{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import logo from'../img/ESLOGAN CONI.png';import'./estilos.css';import actaGif from'../img/acta.gif';import comprasGif from'../img/compras.gif';import empleadosGif from'../img/empleados.gif';import computadoraGif from'../img/computadora.gif';import genearInformeGif from'../img/generar informe.gif';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PerfilUsuario=()=>{const navigate=useNavigate();const[usuarioLogueadoData,setUsuarioLogueadoData]=useState(null);useEffect(()=>{try{const storedUserJSON=localStorage.getItem(\"usuarioLogueado\");if(storedUserJSON){const parsedUser=JSON.parse(storedUserJSON);setUsuarioLogueadoData(parsedUser);if((parsedUser===null||parsedUser===void 0?void 0:parsedUser.rolAutenticacion)!==\"usuario\"){console.log(\"perfilUsuario: Rol incorrecto, redirigiendo a login.\");navigate(\"/login\");}}else{console.log(\"PerfilUsuario: No hay datos de sesión, redirigiendo a login.\");navigate(\"/login\");}}catch(e){console.error(\"Error al leer datos del usuario de localStorage\",e);navigate(\"/login\");}},[navigate]);const handleLogout=()=>{localStorage.removeItem(\"usuarioLogueado\");localStorage.setItem(\"logoutMessage\",\"Sesión cerrada exitosamente\");navigate(\"/login\");};if(!usuarioLogueadoData){return/*#__PURE__*/_jsx(\"div\",{children:\"Cargando perfil...\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"section\",{className:\"encabezado\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Eslogan de CONI - Gesti\\xF3n de inventario\",className:\"imagen-encabezado\"}),/*#__PURE__*/_jsx(\"div\",{className:\"barra-superior\",children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"cerrarSesion\",onClick:handleLogout,children:\"Cerrar sesi\\xF3n\"})})})})})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"titulo perfil-usuario\",children:\"\\xBFQue deseas gestionar hoy?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"contenido\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-equi-perif\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/equipo\",children:/*#__PURE__*/_jsx(\"img\",{src:computadoraGif,alt:\"gestionar_equipos\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container text-equipos\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/equipo\",children:\"Equipos/Perifericos\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-compras\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/ComprasForm\",children:/*#__PURE__*/_jsx(\"img\",{src:comprasGif,alt:\"compras\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container text-compras\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/ComprasForm\",children:\"Compras\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-actas\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/ActaForm\",children:/*#__PURE__*/_jsx(\"img\",{src:actaGif,alt:\"acta\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container text-actas\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/ActaForm\",children:\"Actas\"})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gestion-empleados\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/EmpleadoForm\",children:/*#__PURE__*/_jsx(\"img\",{src:empleadosGif,alt:\"gestion_empleados\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container text-empleados\",children:/*#__PURE__*/_jsx(\"button\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"/EmpleadoForm\",children:\"Empleados\"})})})]})]})]})]});};export default PerfilUsuario;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","logo","actaGif","comprasGif","empleadosGif","computadoraGif","genearInformeGif","jsx","_jsx","jsxs","_jsxs","PerfilUsuario","navigate","usuarioLogueadoData","setUsuarioLogueadoData","storedUserJSON","localStorage","getItem","parsedUser","JSON","parse","rolAutenticacion","console","log","e","error","handleLogout","removeItem","setItem","children","className","src","alt","onClick","href"],"sources":["C:/Users/Lenovo/OneDrive/Documentos/SENA/CONI_FUNCIONES 10 NOV/frontend/src/components/perfilUsuario.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport logo from '../img/ESLOGAN CONI.png';\nimport './estilos.css';\nimport actaGif from '../img/acta.gif';\nimport comprasGif from '../img/compras.gif';\nimport empleadosGif from '../img/empleados.gif';\nimport computadoraGif from '../img/computadora.gif';\nimport genearInformeGif from '../img/generar informe.gif';\n\n\nconst PerfilUsuario = () => {\n  const navigate = useNavigate();\n  const [usuarioLogueadoData, setUsuarioLogueadoData] = useState(null);\n\n    useEffect(() => {\n      try {\n        const storedUserJSON = localStorage.getItem(\"usuarioLogueado\");\n        if (storedUserJSON) {\n          const parsedUser = JSON.parse(storedUserJSON);\n          setUsuarioLogueadoData(parsedUser);\n\n          if (parsedUser?.rolAutenticacion !== \"usuario\") {\n            console.log(\"perfilUsuario: Rol incorrecto, redirigiendo a login.\");\n            navigate(\"/login\");\n          }\n        } else {\n          console.log(\"PerfilUsuario: No hay datos de sesión, redirigiendo a login.\");\n          navigate(\"/login\");\n        }\n      } catch (e) {\n        console.error(\"Error al leer datos del usuario de localStorage\", e);\n        navigate(\"/login\");\n      }\n    }, [navigate]);\n\n    const handleLogout = () => {\n      localStorage.removeItem(\"usuarioLogueado\");\n      localStorage.setItem(\"logoutMessage\", \"Sesión cerrada exitosamente\");\n      navigate(\"/login\");\n    };\n\n    if (!usuarioLogueadoData) {\n      return <div>Cargando perfil...</div>;\n    }\n\n  return(\n    <div>\n    <section className=\"encabezado\">\n        <img src={logo} alt=\"Eslogan de CONI - Gestión de inventario\" className=\"imagen-encabezado\"/>\n        <div className=\"barra-superior\">\n            <nav>\n                <ul>\n                    <li><button className='cerrarSesion' onClick={handleLogout}>Cerrar sesión</button></li>\n                </ul>\n            </nav>\n        </div>\n    </section>\n\n    <main>\n        <h2 className=\"titulo perfil-usuario\">¿Que deseas gestionar hoy?</h2>\n        <div className=\"contenido\">\n            <div className=\"gestion-equi-perif\">\n                <a href=\"/equipo\"><img src={computadoraGif} alt=\"gestionar_equipos\"/></a>\n                <div className=\"container text-equipos\">\n                    <button><a href=\"/equipo\">Equipos/Perifericos</a></button>\n                </div>\n            </div>\n            <div className=\"gestion-compras\">\n                <a href=\"/ComprasForm\"><img src={comprasGif} alt=\"compras\"/></a>\n                <div className=\"container text-compras\">\n                    <button><a href=\"/ComprasForm\">Compras</a></button>\n                </div>\n            </div>\n            <div className=\"gestion-actas\">\n                <a href=\"/ActaForm\"><img src={actaGif} alt=\"acta\"/></a>\n                <div className=\"container text-actas\">\n                    <button><a href=\"/ActaForm\">Actas</a></button>\n                </div>\n            </div>\n            <div className=\"gestion-empleados\">\n                <a href=\"/EmpleadoForm\"><img src={empleadosGif} alt=\"gestion_empleados\"/></a>\n                <div className=\"container text-empleados\">\n                    <button><a href=\"/EmpleadoForm\">Empleados</a></button>\n                </div>\n            </div>\n                   </div>\n    </main>\n\n</div>\n  );\n};\n\nexport default PerfilUsuario;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}