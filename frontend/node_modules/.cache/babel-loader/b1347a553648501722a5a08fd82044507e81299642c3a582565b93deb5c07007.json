{"ast":null,"code":"import _objectSpread from\"C:/Users/Lenovo/OneDrive/Documentos/SENA/CONI_FUNCIONES 10 NOV/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState,useMemo,useCallback}from'react';// Agregamos useCallback\nimport jsPDF from'jspdf';import autoTable from'jspdf-autotable';import{useLocation,useNavigate}from'react-router-dom';import logo from'../img/ESLOGAN CONI.png';import logoAldir from'../img/logo aldir.png';import'../App.css';// Asegúrate de importar tu archivo CSS global para los estilos de tablas y botones\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ActaForm(){const location=useLocation();const navigate=useNavigate();const[equipos,setEquipos]=useState([]);const[formulario,setFormulario]=useState({nombre_completo:'',cedula:''});const[seleccionados,setSeleccionados]=useState([]);const[actasConsultadas,setActasConsultadas]=useState([]);const[consulta,setConsulta]=useState('');const{cedula,nombre}=location.state||{};const[actaDAta,setActaDAta]=useState({nombre_completo:nombre||'',cedula:cedula||''});const[searchEquipmentsQuery,setSearchEquipmentsQuery]=useState('');// Función para cargar los equipos disponibles (usamos useCallback para optimización)\nconst fetchEquiposDisponibles=useCallback(async()=>{try{const response=await fetch('http://localhost:8080/CONI/EquipoServlet?accion=listar&estado=disponible');if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setEquipos(data);}catch(err){console.error(\"Error al cargar equipos disponibles:\",err);// Considera mostrar un mensaje al usuario si la carga inicial falla\n}},[]);// No tiene dependencias externas, solo se crea una vez\nuseEffect(()=>{setActaDAta(prev=>_objectSpread(_objectSpread({},prev),{},{nombre_completo:nombre||'',cedula:cedula||''}));},[cedula,nombre]);useEffect(()=>{const usuario=localStorage.getItem(\"usuarioLogueado\");if(!usuario){navigate(\"/login\");}},[navigate]);// Cargar equipos disponibles al montar el componente\nuseEffect(()=>{fetchEquiposDisponibles();},[fetchEquiposDisponibles]);// Dependencia: la función useCallback\nconst handleLogout=async()=>{try{const response=await fetch(\"http://localhost:8080/CONI/LogoutServlet\",{method:\"GET\",credentials:\"include\"});if(response.ok){localStorage.removeItem(\"usuarioLogueado\");localStorage.removeItem(\"rol\");localStorage.removeItem(\"idUsuario\");localStorage.removeItem(\"cargoEmpleado\");sessionStorage.clear();localStorage.setItem(\"logoutMessage\",\"Sesión cerrada exitosamente\");navigate(\"/\");}else{console.error(\"Error al cerrar sesión, status:\",response.status);}}catch(error){console.error(\"Error al cerrar sesión\",error);}};const handleChange=e=>{setFormulario(_objectSpread(_objectSpread({},formulario),{},{[e.target.name]:e.target.value}));setActaDAta(_objectSpread(_objectSpread({},actaDAta),{},{[e.target.name]:e.target.value}));};const handleCheckboxChange=n_inventario=>{setSeleccionados(prev=>prev.includes(n_inventario)?prev.filter(id=>id!==n_inventario):[...prev,n_inventario]);};// Lógica de handleSubmit basada en tu código original, con adiciones para refresco y limpieza\nconst handleSubmit=e=>{e.preventDefault();console.log(\"Datos de acta a enviar:\",actaDAta);if(seleccionados.length===0){alert('Por favor seleccione al menos un equipo.');return;}const datos=_objectSpread(_objectSpread({},formulario),{},{n_inventario:seleccionados});fetch('http://localhost:8080/CONI/ActasServlet',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(datos)}).then(res=>res.json()).then(data=>{alert(data.mensaje);// Muestra el mensaje del backend\ngenerarPDF(datos);// Genera el PDF inmediatamente después del mensaje del backend\n// Limpiar formulario y selección después de éxito\nsetFormulario({nombre_completo:'',cedula:''});setActaDAta({nombre_completo:'',cedula:''});setSeleccionados([]);// REFRESCAR LA LISTA DE EQUIPOS DISPONIBLES\nfetchEquiposDisponibles();// Llama a la función useCallback para recargar los equipos\n}).catch(err=>{console.error(\"Error al registrar el acta:\",err);alert(\"Error al registrar el acta. Inténtelo de nuevo.\");});};const generarPDF=datos=>{const doc=new jsPDF();const fecha=new Date().toLocaleDateString('es-CO',{day:'numeric',month:'long',year:'numeric'});// Logo\nconst img=new Image();img.src=logoAldir;doc.addImage(img,'PNG',10,10,50,20);// Información del acta\ndoc.setFontSize(12);doc.text(\"Ciudad y fecha: Bogot\\xE1, \".concat(fecha),10,40);doc.setFontSize(14);doc.setFont(undefined,'bold');doc.text('Asunto: Acta entrega de equipos y/o periféricos',10,50);doc.setFontSize(12);doc.setFont(undefined,'normal');const texto=\"Distriqu\\xEDmicos Aldir hace entrega a \".concat(datos.nombre_completo,\", identificado con C.C. \").concat(datos.cedula,\", del siguiente material para uso en la empresa como se relaciona:\");doc.text(texto,10,60,{maxWidth:190});// Tabla con los equipos seleccionados\nconst bodyEquipos=datos.n_inventario.map(id=>{const eq=equipos.find(e=>e.n_inventario===id);return eq?[\"\".concat(eq.clase,\" \").concat(eq.marca,\" (\").concat(eq.tipo,\")\"),eq.n_inventario,eq.n_serie||'N/A']:[\"Equipo no encontrado (\".concat(id,\")\"),'N/A','N/A'];});autoTable(doc,{startY:80,head:[['Descripción del Equipo','N° Inventario','N° de Serie']],body:bodyEquipos});const yFinal=doc.lastAutoTable.finalY+30;// Firmas\ndoc.text('Firma quien recibe',20,yFinal);doc.text('Firma quien entrega',130,yFinal);doc.save(\"Acta_\".concat(datos.cedula,\".pdf\"));};console.log(\"Datos que se envían:\",JSON.stringify(formulario));const consultarActas=()=>{fetch(\"http://localhost:8080/CONI/ActasServlet?cedula=\".concat(consulta)).then(res=>res.json()).then(data=>setActasConsultadas(data)).catch(err=>console.error(err));};const descargarPDF=cedula=>{fetch(\"http://localhost:8080/CONI/DescargarPDFServlet?cedula=\".concat(cedula)).then(response=>{if(!response.ok)throw new Error(\"No se pudo descargar el PDF\");return response.blob();}).then(blob=>{const url=window.URL.createObjectURL(blob);const a=document.createElement(\"a\");a.href=url;a.download=\"Acta_\".concat(cedula,\".pdf\");document.body.appendChild(a);a.click();a.remove();}).catch(error=>{console.error(\"Error al descargar PDF:\",error);alert(\"No se pudo descargar el PDF.\");});};const filteredAndGroupedEquipos=useMemo(()=>{const lowerCaseQuery=searchEquipmentsQuery.toLowerCase();const filtered=equipos.filter(eq=>eq.n_inventario.toLowerCase().includes(lowerCaseQuery)||eq.n_serie.toLowerCase().includes(lowerCaseQuery)||eq.tipo.toLowerCase().includes(lowerCaseQuery)||eq.clase.toLowerCase().includes(lowerCaseQuery)||eq.marca.toLowerCase().includes(lowerCaseQuery));const grouped={'EQUIPO':[],'PERIFERICO':[]};filtered.forEach(eq=>{if(grouped[eq.clase.toUpperCase()]){grouped[eq.clase.toUpperCase()].push(eq);}});return grouped;},[equipos,searchEquipmentsQuery]);return/*#__PURE__*/_jsxs(\"div\",{className:\"acta-form-modulo\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"encabezado\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,className:\"imagen-encabezado\",alt:\"Logo CONI\"}),/*#__PURE__*/_jsx(\"div\",{className:\"barra-superior\",children:/*#__PURE__*/_jsx(\"nav\",{children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/perfilUsuario\"),children:\"Volver perfil usuario\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Cerrar sesi\\xF3n\"})})]})})})]}),/*#__PURE__*/_jsxs(\"main\",{className:\"container acta-main\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Registrar Acta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"form-registro-acta\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nombre_completo\",value:actaDAta.nombre_completo,placeholder:\"Nombre completo\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"cedula\",placeholder:\"C\\xE9dula\",value:actaDAta.cedula,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"section-title\",children:\"Seleccione uno o m\\xE1s equipos disponibles:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar equipo por N\\xB0 Inventario, Marca, Tipo...\",value:searchEquipmentsQuery,onChange:e=>setSearchEquipmentsQuery(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"equipos-selection-container\",children:[filteredAndGroupedEquipos.EQUIPO&&filteredAndGroupedEquipos.EQUIPO.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"equipment-category\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Equipos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"equipment-list\",children:filteredAndGroupedEquipos.EQUIPO.map(eq=>/*#__PURE__*/_jsx(\"div\",{className:\"equipment-item\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:eq.n_inventario,onChange:()=>handleCheckboxChange(eq.n_inventario),checked:seleccionados.includes(eq.n_inventario)}),/*#__PURE__*/_jsxs(\"span\",{className:\"equipment-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"N\\xB0 Inv:\"}),\" \",eq.n_inventario,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Clase:\"}),\" \",eq.clase,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Tipo:\"}),\" \",eq.tipo,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Marca:\"}),\" \",eq.marca]})]})},eq.n_inventario))})]}),filteredAndGroupedEquipos.PERIFERICO&&filteredAndGroupedEquipos.PERIFERICO.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"equipment-category\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Perif\\xE9ricos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"equipment-list\",children:filteredAndGroupedEquipos.PERIFERICO.map(eq=>/*#__PURE__*/_jsx(\"div\",{className:\"equipment-item\",children:/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",value:eq.n_inventario,onChange:()=>handleCheckboxChange(eq.n_inventario),checked:seleccionados.includes(eq.n_inventario)}),/*#__PURE__*/_jsxs(\"span\",{className:\"equipment-details\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\"N\\xB0 Inv:\"}),\" \",eq.n_inventario,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Clase:\"}),\" \",eq.clase,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Tipo:\"}),\" \",eq.tipo,\" |\",/*#__PURE__*/_jsx(\"span\",{className:\"detail-label\",children:\" Marca:\"}),\" \",eq.marca]})]})},eq.n_inventario))})]}),searchEquipmentsQuery&&filteredAndGroupedEquipos.EQUIPO.length===0&&filteredAndGroupedEquipos.PERIFERICO.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results-message\",children:\"No se encontraron equipos o perif\\xE9ricos que coincidan con la b\\xFAsqueda.\"}),!searchEquipmentsQuery&&equipos.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results-message\",children:\"No hay equipos o perif\\xE9ricos disponibles para asignar.\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Registrar y Generar PDF\"})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"divider\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Consultar Actas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"consultar-actas-section\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"N\\xB0 C\\xE9dula\",value:consulta,onChange:e=>setConsulta(e.target.value),className:\"search-input\"}),/*#__PURE__*/_jsx(\"button\",{onClick:consultarActas,children:\"Consultar\"})]}),actasConsultadas.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"actas-consultadas-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID Acta\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nombre Completo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"C\\xE9dula\"}),/*#__PURE__*/_jsx(\"th\",{children:\"N\\xB0 Inventario(s)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:actasConsultadas.map((acta,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:acta.id_acta}),/*#__PURE__*/_jsx(\"td\",{children:acta.nombre_completo}),/*#__PURE__*/_jsx(\"td\",{children:acta.cedula}),/*#__PURE__*/_jsx(\"td\",{children:acta.n_inventario}),/*#__PURE__*/_jsx(\"td\",{children:acta.fecha}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>descargarPDF(acta.cedula),className:\"btn-accion btn-descargar\",children:\"Descargar PDF\"})})]},index))})]})}),actasConsultadas.length===0&&consulta&&/*#__PURE__*/_jsx(\"p\",{className:\"no-results-message\",children:\"No se encontraron actas para la c\\xE9dula consultada.\"})]})]});}export default ActaForm;","map":{"version":3,"names":["React","useEffect","useState","useMemo","useCallback","jsPDF","autoTable","useLocation","useNavigate","logo","logoAldir","jsx","_jsx","jsxs","_jsxs","ActaForm","location","navigate","equipos","setEquipos","formulario","setFormulario","nombre_completo","cedula","seleccionados","setSeleccionados","actasConsultadas","setActasConsultadas","consulta","setConsulta","nombre","state","actaDAta","setActaDAta","searchEquipmentsQuery","setSearchEquipmentsQuery","fetchEquiposDisponibles","response","fetch","ok","Error","concat","status","data","json","err","console","error","prev","_objectSpread","usuario","localStorage","getItem","handleLogout","method","credentials","removeItem","sessionStorage","clear","setItem","handleChange","e","target","name","value","handleCheckboxChange","n_inventario","includes","filter","id","handleSubmit","preventDefault","log","length","alert","datos","headers","body","JSON","stringify","then","res","mensaje","generarPDF","catch","doc","fecha","Date","toLocaleDateString","day","month","year","img","Image","src","addImage","setFontSize","text","setFont","undefined","texto","maxWidth","bodyEquipos","map","eq","find","clase","marca","tipo","n_serie","startY","head","yFinal","lastAutoTable","finalY","save","consultarActas","descargarPDF","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","appendChild","click","remove","filteredAndGroupedEquipos","lowerCaseQuery","toLowerCase","filtered","grouped","forEach","toUpperCase","push","className","children","alt","onClick","onSubmit","type","placeholder","onChange","required","EQUIPO","checked","PERIFERICO","acta","index","id_acta"],"sources":["C:/Users/Lenovo/OneDrive/Documentos/SENA/CONI_FUNCIONES 10 NOV/frontend/src/components/ActaForm.js"],"sourcesContent":["import React, { useEffect, useState, useMemo, useCallback } from 'react'; // Agregamos useCallback\r\nimport jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\nimport { useLocation, useNavigate } from 'react-router-dom';\r\nimport logo from '../img/ESLOGAN CONI.png';\r\nimport logoAldir from '../img/logo aldir.png';\r\nimport '../App.css'; // Asegúrate de importar tu archivo CSS global para los estilos de tablas y botones\r\n\r\nfunction ActaForm() {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const [equipos, setEquipos] = useState([]);\r\n    const [formulario, setFormulario] = useState({ nombre_completo: '', cedula: '' });\r\n    const [seleccionados, setSeleccionados] = useState([]);\r\n    const [actasConsultadas, setActasConsultadas] = useState([]);\r\n    const [consulta, setConsulta] = useState('');\r\n    const { cedula, nombre } = location.state || {};\r\n    const [actaDAta, setActaDAta] = useState({\r\n        nombre_completo: nombre || '',\r\n        cedula: cedula || '',\r\n    });\r\n\r\n    const [searchEquipmentsQuery, setSearchEquipmentsQuery] = useState('');\r\n\r\n    // Función para cargar los equipos disponibles (usamos useCallback para optimización)\r\n    const fetchEquiposDisponibles = useCallback(async () => {\r\n        try {\r\n            const response = await fetch('http://localhost:8080/CONI/EquipoServlet?accion=listar&estado=disponible');\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n            const data = await response.json();\r\n            setEquipos(data);\r\n        } catch (err) {\r\n            console.error(\"Error al cargar equipos disponibles:\", err);\r\n            // Considera mostrar un mensaje al usuario si la carga inicial falla\r\n        }\r\n    }, []); // No tiene dependencias externas, solo se crea una vez\r\n\r\n    useEffect(() => {\r\n        setActaDAta(prev => ({\r\n            ...prev,\r\n            nombre_completo: nombre || '',\r\n            cedula: cedula || ''\r\n        }));\r\n    }, [cedula, nombre]);\r\n\r\n    useEffect(() => {\r\n        const usuario = localStorage.getItem(\"usuarioLogueado\");\r\n        if (!usuario) {\r\n            navigate(\"/login\");\r\n        }\r\n    }, [navigate]);\r\n\r\n    // Cargar equipos disponibles al montar el componente\r\n    useEffect(() => {\r\n        fetchEquiposDisponibles();\r\n    }, [fetchEquiposDisponibles]); // Dependencia: la función useCallback\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:8080/CONI/LogoutServlet\", {\r\n                method: \"GET\",\r\n                credentials: \"include\"\r\n            });\r\n\r\n            if (response.ok) {\r\n                localStorage.removeItem(\"usuarioLogueado\");\r\n                localStorage.removeItem(\"rol\");\r\n                localStorage.removeItem(\"idUsuario\");\r\n                localStorage.removeItem(\"cargoEmpleado\");\r\n                sessionStorage.clear();\r\n                localStorage.setItem(\"logoutMessage\", \"Sesión cerrada exitosamente\");\r\n                navigate(\"/\");\r\n            } else {\r\n                console.error(\"Error al cerrar sesión, status:\", response.status);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error al cerrar sesión\", error);\r\n        }\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setFormulario({ ...formulario, [e.target.name]: e.target.value });\r\n        setActaDAta({ ...actaDAta, [e.target.name]: e.target.value });\r\n    };\r\n\r\n    const handleCheckboxChange = (n_inventario) => {\r\n        setSeleccionados((prev) =>\r\n            prev.includes(n_inventario)\r\n                ? prev.filter((id) => id !== n_inventario)\r\n                : [...prev, n_inventario]\r\n        );\r\n    };\r\n\r\n    // Lógica de handleSubmit basada en tu código original, con adiciones para refresco y limpieza\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        console.log(\"Datos de acta a enviar:\", actaDAta);\r\n\r\n        if (seleccionados.length === 0) {\r\n            alert('Por favor seleccione al menos un equipo.');\r\n            return;\r\n        }\r\n\r\n        const datos = {\r\n            ...formulario,\r\n            n_inventario: seleccionados\r\n        };\r\n\r\n        fetch('http://localhost:8080/CONI/ActasServlet', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(datos)\r\n        })\r\n            .then(res => res.json())\r\n            .then(data => {\r\n                alert(data.mensaje); // Muestra el mensaje del backend\r\n                generarPDF(datos); // Genera el PDF inmediatamente después del mensaje del backend\r\n\r\n                // Limpiar formulario y selección después de éxito\r\n                setFormulario({ nombre_completo: '', cedula: '' });\r\n                setActaDAta({ nombre_completo: '', cedula: '' });\r\n                setSeleccionados([]);\r\n\r\n                // REFRESCAR LA LISTA DE EQUIPOS DISPONIBLES\r\n                fetchEquiposDisponibles(); // Llama a la función useCallback para recargar los equipos\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Error al registrar el acta:\", err);\r\n                alert(\"Error al registrar el acta. Inténtelo de nuevo.\");\r\n            });\r\n    };\r\n\r\n    const generarPDF = (datos) => {\r\n        const doc = new jsPDF();\r\n\r\n        const fecha = new Date().toLocaleDateString('es-CO', {\r\n            day: 'numeric',\r\n            month: 'long',\r\n            year: 'numeric'\r\n        });\r\n\r\n        // Logo\r\n        const img = new Image();\r\n        img.src = logoAldir;\r\n        doc.addImage(img, 'PNG', 10, 10, 50, 20);\r\n\r\n        // Información del acta\r\n        doc.setFontSize(12);\r\n        doc.text(`Ciudad y fecha: Bogotá, ${fecha}`, 10, 40);\r\n        doc.setFontSize(14);\r\n        doc.setFont(undefined, 'bold');\r\n        doc.text('Asunto: Acta entrega de equipos y/o periféricos', 10, 50);\r\n        doc.setFontSize(12);\r\n        doc.setFont(undefined, 'normal');\r\n\r\n        const texto = `Distriquímicos Aldir hace entrega a ${datos.nombre_completo}, identificado con C.C. ${datos.cedula}, del siguiente material para uso en la empresa como se relaciona:`;\r\n        doc.text(texto, 10, 60, { maxWidth: 190 });\r\n\r\n        // Tabla con los equipos seleccionados\r\n        const bodyEquipos = datos.n_inventario.map(id => {\r\n            const eq = equipos.find(e => e.n_inventario === id);\r\n            return eq ? [\r\n                `${eq.clase} ${eq.marca} (${eq.tipo})`,\r\n                eq.n_inventario,\r\n                eq.n_serie || 'N/A'\r\n            ] : [`Equipo no encontrado (${id})`, 'N/A', 'N/A'];\r\n        });\r\n\r\n        autoTable(doc, {\r\n            startY: 80,\r\n            head: [['Descripción del Equipo', 'N° Inventario', 'N° de Serie']],\r\n            body: bodyEquipos\r\n        });\r\n\r\n        const yFinal = doc.lastAutoTable.finalY + 30;\r\n\r\n        // Firmas\r\n        doc.text('Firma quien recibe', 20, yFinal);\r\n        doc.text('Firma quien entrega', 130, yFinal);\r\n\r\n        doc.save(`Acta_${datos.cedula}.pdf`);\r\n    };\r\n\r\n    console.log(\"Datos que se envían:\", JSON.stringify(formulario));\r\n\r\n    const consultarActas = () => {\r\n        fetch(`http://localhost:8080/CONI/ActasServlet?cedula=${consulta}`)\r\n            .then(res => res.json())\r\n            .then(data => setActasConsultadas(data))\r\n            .catch(err => console.error(err));\r\n    };\r\n\r\n    const descargarPDF = (cedula) => {\r\n        fetch(`http://localhost:8080/CONI/DescargarPDFServlet?cedula=${cedula}`)\r\n            .then(response => {\r\n                if (!response.ok) throw new Error(\"No se pudo descargar el PDF\");\r\n                return response.blob();\r\n            })\r\n            .then(blob => {\r\n                const url = window.URL.createObjectURL(blob);\r\n                const a = document.createElement(\"a\");\r\n                a.href = url;\r\n                a.download = `Acta_${cedula}.pdf`;\r\n                document.body.appendChild(a);\r\n                a.click();\r\n                a.remove();\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Error al descargar PDF:\", error);\r\n                alert(\"No se pudo descargar el PDF.\");\r\n            });\r\n    };\r\n\r\n    const filteredAndGroupedEquipos = useMemo(() => {\r\n        const lowerCaseQuery = searchEquipmentsQuery.toLowerCase();\r\n        const filtered = equipos.filter(eq =>\r\n            eq.n_inventario.toLowerCase().includes(lowerCaseQuery) ||\r\n            eq.n_serie.toLowerCase().includes(lowerCaseQuery) ||\r\n            eq.tipo.toLowerCase().includes(lowerCaseQuery) ||\r\n            eq.clase.toLowerCase().includes(lowerCaseQuery) ||\r\n            eq.marca.toLowerCase().includes(lowerCaseQuery)\r\n        );\r\n\r\n        const grouped = {\r\n            'EQUIPO': [],\r\n            'PERIFERICO': []\r\n        };\r\n        filtered.forEach(eq => {\r\n            if (grouped[eq.clase.toUpperCase()]) {\r\n                grouped[eq.clase.toUpperCase()].push(eq);\r\n            }\r\n        });\r\n        return grouped;\r\n    }, [equipos, searchEquipmentsQuery]);\r\n\r\n\r\n    return (\r\n        <div className=\"acta-form-modulo\">\r\n\r\n            <div className=\"encabezado\">\r\n                <img src={logo} className=\"imagen-encabezado\" alt=\"Logo CONI\" />\r\n                <div className=\"barra-superior\">\r\n                    <nav>\r\n                        <ul>\r\n                            <li><button onClick={() => navigate(\"/perfilUsuario\")}>Volver perfil usuario</button></li>\r\n                            <li><button onClick={handleLogout}>Cerrar sesión</button></li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n            </div>\r\n\r\n            <main className=\"container acta-main\">\r\n                <h2>Registrar Acta</h2>\r\n                <form onSubmit={handleSubmit} className=\"form-registro-acta\">\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"nombre_completo\"\r\n                        value={actaDAta.nombre_completo}\r\n                        placeholder=\"Nombre completo\"\r\n                        onChange={handleChange}\r\n                        required\r\n                    /><br />\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"cedula\"\r\n                        placeholder=\"Cédula\"\r\n                        value={actaDAta.cedula}\r\n                        onChange={handleChange}\r\n                        required\r\n                    /><br />\r\n\r\n                    <h4 className=\"section-title\">Seleccione uno o más equipos disponibles:</h4>\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"Buscar equipo por N° Inventario, Marca, Tipo...\"\r\n                        value={searchEquipmentsQuery}\r\n                        onChange={(e) => setSearchEquipmentsQuery(e.target.value)}\r\n                        className=\"search-input\"\r\n                    />\r\n\r\n                    <div className=\"equipos-selection-container\">\r\n                        {filteredAndGroupedEquipos.EQUIPO && filteredAndGroupedEquipos.EQUIPO.length > 0 && (\r\n                            <div className=\"equipment-category\">\r\n                                <h3>Equipos</h3>\r\n                                <div className=\"equipment-list\">\r\n                                    {filteredAndGroupedEquipos.EQUIPO.map((eq) => (\r\n                                        <div key={eq.n_inventario} className=\"equipment-item\">\r\n                                            <label>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    value={eq.n_inventario}\r\n                                                    onChange={() => handleCheckboxChange(eq.n_inventario)}\r\n                                                    checked={seleccionados.includes(eq.n_inventario)}\r\n                                                />\r\n                                                <span className=\"equipment-details\">\r\n                                                    <span className=\"detail-label\">N° Inv:</span> {eq.n_inventario} |\r\n                                                    <span className=\"detail-label\"> Clase:</span> {eq.clase} |\r\n                                                    <span className=\"detail-label\"> Tipo:</span> {eq.tipo} |\r\n                                                    <span className=\"detail-label\"> Marca:</span> {eq.marca}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {filteredAndGroupedEquipos.PERIFERICO && filteredAndGroupedEquipos.PERIFERICO.length > 0 && (\r\n                            <div className=\"equipment-category\">\r\n                                <h3>Periféricos</h3>\r\n                                <div className=\"equipment-list\">\r\n                                    {filteredAndGroupedEquipos.PERIFERICO.map((eq) => (\r\n                                        <div key={eq.n_inventario} className=\"equipment-item\">\r\n                                            <label>\r\n                                                <input\r\n                                                    type=\"checkbox\"\r\n                                                    value={eq.n_inventario}\r\n                                                    onChange={() => handleCheckboxChange(eq.n_inventario)}\r\n                                                    checked={seleccionados.includes(eq.n_inventario)}\r\n                                                />\r\n                                                <span className=\"equipment-details\">\r\n                                                    <span className=\"detail-label\">N° Inv:</span> {eq.n_inventario} |\r\n                                                    <span className=\"detail-label\"> Clase:</span> {eq.clase} |\r\n                                                    <span className=\"detail-label\"> Tipo:</span> {eq.tipo} |\r\n                                                    <span className=\"detail-label\"> Marca:</span> {eq.marca}\r\n                                                </span>\r\n                                            </label>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {searchEquipmentsQuery &&\r\n                            filteredAndGroupedEquipos.EQUIPO.length === 0 &&\r\n                            filteredAndGroupedEquipos.PERIFERICO.length === 0 && (\r\n                                <p className=\"no-results-message\">No se encontraron equipos o periféricos que coincidan con la búsqueda.</p>\r\n                            )}\r\n                        {!searchEquipmentsQuery && equipos.length === 0 && (\r\n                            <p className=\"no-results-message\">No hay equipos o periféricos disponibles para asignar.</p>\r\n                        )}\r\n                    </div>\r\n\r\n                    <br />\r\n                    <button type=\"submit\">Registrar y Generar PDF</button>\r\n                </form>\r\n\r\n                <hr className=\"divider\" />\r\n\r\n                <h2>Consultar Actas</h2>\r\n                <div className=\"consultar-actas-section\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"N° Cédula\"\r\n                        value={consulta}\r\n                        onChange={(e) => setConsulta(e.target.value)}\r\n                        className=\"search-input\"\r\n                    />\r\n                    <button onClick={consultarActas}>Consultar</button>\r\n                </div>\r\n\r\n                {actasConsultadas.length > 0 && (\r\n                    <div className=\"actas-consultadas-table-container\">\r\n                        <table>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID Acta</th>\r\n                                    <th>Nombre Completo</th>\r\n                                    <th>Cédula</th>\r\n                                    <th>N° Inventario(s)</th>\r\n                                    <th>Fecha</th>\r\n                                    <th>Acciones</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {actasConsultadas.map((acta, index) => (\r\n                                    <tr key={index}>\r\n                                        <td>{acta.id_acta}</td>\r\n                                        <td>{acta.nombre_completo}</td>\r\n                                        <td>{acta.cedula}</td>\r\n                                        <td>{acta.n_inventario}</td>\r\n                                        <td>{acta.fecha}</td>\r\n                                        <td>\r\n                                            <button\r\n                                                onClick={() => descargarPDF(acta.cedula)}\r\n                                                className=\"btn-accion btn-descargar\"\r\n                                            >\r\n                                                Descargar PDF\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                )}\r\n                {actasConsultadas.length === 0 && consulta && (\r\n                    <p className=\"no-results-message\">No se encontraron actas para la cédula consultada.</p>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ActaForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}